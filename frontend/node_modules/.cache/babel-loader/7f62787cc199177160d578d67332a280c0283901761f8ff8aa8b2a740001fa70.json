{"ast":null,"code":"\"use client\";\n\n// packages/react/avatar/src/avatar.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar AVATAR_NAME = \"Avatar\";\nvar [createAvatarContext, createAvatarScope] = createContextScope(AVATAR_NAME);\nvar [AvatarProvider, useAvatarContext] = createAvatarContext(AVATAR_NAME);\nvar Avatar = React.forwardRef((props, forwardedRef) => {\n  const {\n    __scopeAvatar,\n    ...avatarProps\n  } = props;\n  const [imageLoadingStatus, setImageLoadingStatus] = React.useState(\"idle\");\n  return /* @__PURE__ */jsx(AvatarProvider, {\n    scope: __scopeAvatar,\n    imageLoadingStatus,\n    onImageLoadingStatusChange: setImageLoadingStatus,\n    children: /* @__PURE__ */jsx(Primitive.span, {\n      ...avatarProps,\n      ref: forwardedRef\n    })\n  });\n});\nAvatar.displayName = AVATAR_NAME;\nvar IMAGE_NAME = \"AvatarImage\";\nvar AvatarImage = React.forwardRef((props, forwardedRef) => {\n  const {\n    __scopeAvatar,\n    src,\n    onLoadingStatusChange = () => {},\n    ...imageProps\n  } = props;\n  const context = useAvatarContext(IMAGE_NAME, __scopeAvatar);\n  const imageLoadingStatus = useImageLoadingStatus(src, imageProps);\n  const handleLoadingStatusChange = useCallbackRef(status => {\n    onLoadingStatusChange(status);\n    context.onImageLoadingStatusChange(status);\n  });\n  useLayoutEffect(() => {\n    if (imageLoadingStatus !== \"idle\") {\n      handleLoadingStatusChange(imageLoadingStatus);\n    }\n  }, [imageLoadingStatus, handleLoadingStatusChange]);\n  return imageLoadingStatus === \"loaded\" ? /* @__PURE__ */jsx(Primitive.img, {\n    ...imageProps,\n    ref: forwardedRef,\n    src\n  }) : null;\n});\nAvatarImage.displayName = IMAGE_NAME;\nvar FALLBACK_NAME = \"AvatarFallback\";\nvar AvatarFallback = React.forwardRef((props, forwardedRef) => {\n  const {\n    __scopeAvatar,\n    delayMs,\n    ...fallbackProps\n  } = props;\n  const context = useAvatarContext(FALLBACK_NAME, __scopeAvatar);\n  const [canRender, setCanRender] = React.useState(delayMs === void 0);\n  React.useEffect(() => {\n    if (delayMs !== void 0) {\n      const timerId = window.setTimeout(() => setCanRender(true), delayMs);\n      return () => window.clearTimeout(timerId);\n    }\n  }, [delayMs]);\n  return canRender && context.imageLoadingStatus !== \"loaded\" ? /* @__PURE__ */jsx(Primitive.span, {\n    ...fallbackProps,\n    ref: forwardedRef\n  }) : null;\n});\nAvatarFallback.displayName = FALLBACK_NAME;\nfunction resolveLoadingStatus(image, src) {\n  if (!image) {\n    return \"idle\";\n  }\n  if (!src) {\n    return \"error\";\n  }\n  if (image.src !== src) {\n    image.src = src;\n  }\n  return image.complete && image.naturalWidth > 0 ? \"loaded\" : \"loading\";\n}\nfunction useImageLoadingStatus(src, {\n  referrerPolicy,\n  crossOrigin\n}) {\n  const isHydrated = useIsHydrated();\n  const imageRef = React.useRef(null);\n  const image = (() => {\n    if (!isHydrated) return null;\n    if (!imageRef.current) {\n      imageRef.current = new window.Image();\n    }\n    return imageRef.current;\n  })();\n  const [loadingStatus, setLoadingStatus] = React.useState(() => resolveLoadingStatus(image, src));\n  useLayoutEffect(() => {\n    setLoadingStatus(resolveLoadingStatus(image, src));\n  }, [image, src]);\n  useLayoutEffect(() => {\n    const updateStatus = status => () => {\n      setLoadingStatus(status);\n    };\n    if (!image) return;\n    const handleLoad = updateStatus(\"loaded\");\n    const handleError = updateStatus(\"error\");\n    image.addEventListener(\"load\", handleLoad);\n    image.addEventListener(\"error\", handleError);\n    if (referrerPolicy) {\n      image.referrerPolicy = referrerPolicy;\n    }\n    if (typeof crossOrigin === \"string\") {\n      image.crossOrigin = crossOrigin;\n    }\n    return () => {\n      image.removeEventListener(\"load\", handleLoad);\n      image.removeEventListener(\"error\", handleError);\n    };\n  }, [image, crossOrigin, referrerPolicy]);\n  return loadingStatus;\n}\nfunction subscribe() {\n  return () => {};\n}\nfunction useIsHydrated() {\n  return React.useSyncExternalStore(subscribe, () => true, () => false);\n}\nvar Root = Avatar;\nvar Image = AvatarImage;\nvar Fallback = AvatarFallback;\nexport { Avatar, AvatarFallback, AvatarImage, Fallback, Image, Root, createAvatarScope };","map":{"version":3,"names":["React","createContextScope","useCallbackRef","useLayoutEffect","Primitive","jsx","AVATAR_NAME","createAvatarContext","createAvatarScope","AvatarProvider","useAvatarContext","Avatar","forwardRef","props","forwardedRef","__scopeAvatar","avatarProps","imageLoadingStatus","setImageLoadingStatus","useState","scope","onImageLoadingStatusChange","children","span","ref","displayName","IMAGE_NAME","AvatarImage","src","onLoadingStatusChange","imageProps","context","useImageLoadingStatus","handleLoadingStatusChange","status","img","FALLBACK_NAME","AvatarFallback","delayMs","fallbackProps","canRender","setCanRender","useEffect","timerId","window","setTimeout","clearTimeout","resolveLoadingStatus","image","complete","naturalWidth","referrerPolicy","crossOrigin","isHydrated","useIsHydrated","imageRef","useRef","current","Image","loadingStatus","setLoadingStatus","updateStatus","handleLoad","handleError","addEventListener","removeEventListener","subscribe","useSyncExternalStore","Root","Fallback"],"sources":["C:\\Users\\iamaa\\Desktop\\library-management\\frontend\\node_modules\\@radix-ui\\react-avatar\\src\\avatar.tsx"],"sourcesContent":["import * as React from 'react';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Avatar\n * -----------------------------------------------------------------------------------------------*/\n\nconst AVATAR_NAME = 'Avatar';\n\ntype ScopedProps<P> = P & { __scopeAvatar?: Scope };\nconst [createAvatarContext, createAvatarScope] = createContextScope(AVATAR_NAME);\n\ntype ImageLoadingStatus = 'idle' | 'loading' | 'loaded' | 'error';\n\ntype AvatarContextValue = {\n  imageLoadingStatus: ImageLoadingStatus;\n  onImageLoadingStatusChange(status: ImageLoadingStatus): void;\n};\n\nconst [AvatarProvider, useAvatarContext] = createAvatarContext<AvatarContextValue>(AVATAR_NAME);\n\ntype AvatarElement = React.ElementRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface AvatarProps extends PrimitiveSpanProps {}\n\nconst Avatar = React.forwardRef<AvatarElement, AvatarProps>(\n  (props: ScopedProps<AvatarProps>, forwardedRef) => {\n    const { __scopeAvatar, ...avatarProps } = props;\n    const [imageLoadingStatus, setImageLoadingStatus] = React.useState<ImageLoadingStatus>('idle');\n    return (\n      <AvatarProvider\n        scope={__scopeAvatar}\n        imageLoadingStatus={imageLoadingStatus}\n        onImageLoadingStatusChange={setImageLoadingStatus}\n      >\n        <Primitive.span {...avatarProps} ref={forwardedRef} />\n      </AvatarProvider>\n    );\n  }\n);\n\nAvatar.displayName = AVATAR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * AvatarImage\n * -----------------------------------------------------------------------------------------------*/\n\nconst IMAGE_NAME = 'AvatarImage';\n\ntype AvatarImageElement = React.ElementRef<typeof Primitive.img>;\ntype PrimitiveImageProps = React.ComponentPropsWithoutRef<typeof Primitive.img>;\ninterface AvatarImageProps extends PrimitiveImageProps {\n  onLoadingStatusChange?: (status: ImageLoadingStatus) => void;\n}\n\nconst AvatarImage = React.forwardRef<AvatarImageElement, AvatarImageProps>(\n  (props: ScopedProps<AvatarImageProps>, forwardedRef) => {\n    const { __scopeAvatar, src, onLoadingStatusChange = () => {}, ...imageProps } = props;\n    const context = useAvatarContext(IMAGE_NAME, __scopeAvatar);\n    const imageLoadingStatus = useImageLoadingStatus(src, imageProps);\n    const handleLoadingStatusChange = useCallbackRef((status: ImageLoadingStatus) => {\n      onLoadingStatusChange(status);\n      context.onImageLoadingStatusChange(status);\n    });\n\n    useLayoutEffect(() => {\n      if (imageLoadingStatus !== 'idle') {\n        handleLoadingStatusChange(imageLoadingStatus);\n      }\n    }, [imageLoadingStatus, handleLoadingStatusChange]);\n\n    return imageLoadingStatus === 'loaded' ? (\n      <Primitive.img {...imageProps} ref={forwardedRef} src={src} />\n    ) : null;\n  }\n);\n\nAvatarImage.displayName = IMAGE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * AvatarFallback\n * -----------------------------------------------------------------------------------------------*/\n\nconst FALLBACK_NAME = 'AvatarFallback';\n\ntype AvatarFallbackElement = React.ElementRef<typeof Primitive.span>;\ninterface AvatarFallbackProps extends PrimitiveSpanProps {\n  delayMs?: number;\n}\n\nconst AvatarFallback = React.forwardRef<AvatarFallbackElement, AvatarFallbackProps>(\n  (props: ScopedProps<AvatarFallbackProps>, forwardedRef) => {\n    const { __scopeAvatar, delayMs, ...fallbackProps } = props;\n    const context = useAvatarContext(FALLBACK_NAME, __scopeAvatar);\n    const [canRender, setCanRender] = React.useState(delayMs === undefined);\n\n    React.useEffect(() => {\n      if (delayMs !== undefined) {\n        const timerId = window.setTimeout(() => setCanRender(true), delayMs);\n        return () => window.clearTimeout(timerId);\n      }\n    }, [delayMs]);\n\n    return canRender && context.imageLoadingStatus !== 'loaded' ? (\n      <Primitive.span {...fallbackProps} ref={forwardedRef} />\n    ) : null;\n  }\n);\n\nAvatarFallback.displayName = FALLBACK_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction resolveLoadingStatus(image: HTMLImageElement | null, src?: string): ImageLoadingStatus {\n  if (!image) {\n    return 'idle';\n  }\n  if (!src) {\n    return 'error';\n  }\n  if (image.src !== src) {\n    image.src = src;\n  }\n  return image.complete && image.naturalWidth > 0 ? 'loaded' : 'loading';\n}\n\nfunction useImageLoadingStatus(\n  src: string | undefined,\n  { referrerPolicy, crossOrigin }: AvatarImageProps\n) {\n  const isHydrated = useIsHydrated();\n  const imageRef = React.useRef<HTMLImageElement | null>(null);\n  const image = (() => {\n    if (!isHydrated) return null;\n    if (!imageRef.current) {\n      imageRef.current = new window.Image();\n    }\n    return imageRef.current;\n  })();\n\n  const [loadingStatus, setLoadingStatus] = React.useState<ImageLoadingStatus>(() =>\n    resolveLoadingStatus(image, src)\n  );\n\n  useLayoutEffect(() => {\n    setLoadingStatus(resolveLoadingStatus(image, src));\n  }, [image, src]);\n\n  useLayoutEffect(() => {\n    const updateStatus = (status: ImageLoadingStatus) => () => {\n      setLoadingStatus(status);\n    };\n\n    if (!image) return;\n\n    const handleLoad = updateStatus('loaded');\n    const handleError = updateStatus('error');\n    image.addEventListener('load', handleLoad);\n    image.addEventListener('error', handleError);\n    if (referrerPolicy) {\n      image.referrerPolicy = referrerPolicy;\n    }\n    if (typeof crossOrigin === 'string') {\n      image.crossOrigin = crossOrigin;\n    }\n\n    return () => {\n      image.removeEventListener('load', handleLoad);\n      image.removeEventListener('error', handleError);\n    };\n  }, [image, crossOrigin, referrerPolicy]);\n\n  return loadingStatus;\n}\n\nfunction subscribe() {\n  return () => {};\n}\n\nfunction useIsHydrated() {\n  return React.useSyncExternalStore(\n    subscribe,\n    () => true,\n    () => false\n  );\n}\n\nconst Root = Avatar;\nconst Image = AvatarImage;\nconst Fallback = AvatarFallback;\n\nexport {\n  createAvatarScope,\n  //\n  Avatar,\n  AvatarImage,\n  AvatarFallback,\n  //\n  Root,\n  Image,\n  Fallback,\n};\nexport type { AvatarProps, AvatarImageProps, AvatarFallbackProps };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}